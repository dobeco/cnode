webpackJsonp([4],{AYIS:function(t,e){},nXOw:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7t+N"),r=s.n(a),n=s("fdFc"),i={name:"user",components:{vHeader:s("UzLt").a},data:function(){return{user:{},tab:["最近创建的话题","最近参与的话题"],currentIndex:0,recent:[]}},created:function(){this.getLastTime=n.a,this.getUserInfo()},methods:{getUserInfo:function(){var t=this,e="https://cnodejs.org/api/v1/user/"+this.$route.params.loginname;r.a.get(e).then(function(e){e.success&&(t.user=e.data,t.recent=[e.data.recent_topics,e.data.recent_replies])}).catch(function(){t.$router.push("/404")})},switchTab:function(t){this.currentIndex=t}},watch:{$route:function(t,e){"user"===t.name&&(this.getUserInfo(),window.scrollTo(0,0))}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user"},[s("v-header",{attrs:{head:"用户详情"}}),t._v(" "),t.user.loginname?[s("div",{staticClass:"base"},[s("div",{staticClass:"bg",style:{backgroundImage:"url("+t.user.avatar_url+")"}}),t._v(" "),s("div",{staticClass:"bg-mask"}),t._v(" "),s("div",{staticClass:"content"},[s("img",{staticClass:"avatar",attrs:{src:t.user.avatar_url,width:"100",height:"100"}}),t._v(" "),s("p",[t._v(t._s(t.user.loginname))]),t._v(" "),s("div",{staticClass:"info"},[s("span",[t._v("注册时间: "),s("b",[t._v(t._s(t.getLastTime(t.user.create_at)))])]),t._v(" "),s("span",[t._v("积分: "),s("b",[t._v(t._s(t.user.score))])])])])]),t._v(" "),s("ul",{staticClass:"tab"},t._l(t.tab,function(e,a){return s("li",{class:{current:t.currentIndex===a},on:{click:function(e){t.switchTab(a)}}},[t._v(t._s(e)+"\n      ")])})),t._v(" "),s("ul",{staticClass:"recent-list"},t._l(t.recent[t.currentIndex],function(e){return s("li",[s("router-link",{attrs:{to:"/user/"+e.author.loginname}},[s("img",{staticClass:"avatar",attrs:{src:e.author.avatar_url,width:"40",height:"40"}})]),t._v(" "),s("router-link",{staticClass:"info",attrs:{to:"/topic/"+e.id}},[s("h2",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),s("p",[s("span",[t._v(t._s(e.author.loginname))]),t._v(" "),s("time",[t._v(t._s(t.getLastTime(e.last_reply_at)))])])])],1)}))]:t._e()],2)},staticRenderFns:[]};var u=s("VU/8")(i,c,!1,function(t){s("AYIS")},null,null);e.default=u.exports}});
//# sourceMappingURL=4.190b4537fccc64cea422.js.map