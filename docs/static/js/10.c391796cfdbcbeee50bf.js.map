{"version":3,"sources":["webpack:///src/views/create.vue","webpack:///./src/views/create.vue?b33f","webpack:///./src/views/create.vue"],"names":["create","name","components","vHeader","v_header","vAlert","v_alert","data","show","message","title","tab","content","computed","extends_default","Object","vuex_esm","methods","sendIssue","_this","this","length","tip","jquery_default","a","post","accesstoken","user","accessToken","then","res","success","setTimeout","$router","push","catch","_this2","timer","clearTimeout","views_create","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","head","_v","directives","rawName","value","expression","id","on","change","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","multiple","click","type","placeholder","domProps","input","composing","text","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.c391796cfdbcbeee50bf.js","sourcesContent":["<template>\n  <div class=\"create\">\n    <v-header head=\"新建主题\"></v-header>\n    <div class=\"line\">\n      <span>选择分类: </span>\n      <select id=\"select-tab\" v-model=\"tab\">\n        <option value=\"share\">分享</option>\n        <option value=\"ask\">问答</option>\n        <option value=\"job\">招聘</option>\n        <option value=\"dev\">测试</option>\n      </select>\n      <button id=\"issue\" @click=\"sendIssue\">发布</button>\n    </div>\n    <div class=\"title\">\n      <input type=\"text\" v-model=\"title\" placeholder=\"标题,字数10字以上\">\n    </div>\n    <div class=\"content\">\n      <textarea v-model=\"content\" placeholder=\"支持Markdown语法,请注意标记代码\"></textarea>\n    </div>\n    <v-alert :show=\"show\" :text=\"message\"></v-alert>\n  </div>\n</template>\n\n<script>\n  import $ from 'jquery'\n  import {mapState} from 'vuex'\n\n  import vHeader from '../components/v-header'\n  import vAlert from '../components/v-alert'\n\n  export default {\n    name: \"create\",\n    components: {\n      vHeader, vAlert\n    },\n    data() {\n      return {\n        show: false,\n        message: '',\n        title: '',\n        tab: 'share',\n        content: ''\n      }\n    },\n    computed: {\n      ...mapState(['user'])\n    },\n    methods: {\n      sendIssue() {\n        if (this.title.length <= 10) {\n          this.tip('标题字数10字以上')\n        } else if (!this.content.length) {\n          this.tip('主题内容不能为空')\n        } else {\n          var url = `https://cnodejs.org/api/v1/topics`\n          $.post(url, {\n            accesstoken: this.user.accessToken,\n            title: this.title,\n            tab: this.tab,\n            content: this.content\n          }).then((res) => {\n            if (res.success) {\n              this.tip('主题发布成功')\n              setTimeout(() => {\n                this.$router.push(`/?tab=${this.tab}`)\n              }, 2000)\n            }\n          }).catch(() => {\n            this.tip('主题发布失败,请重新发布!')\n          })\n        }\n      },\n      tip(message) {\n        var timer = null\n        clearTimeout(timer)\n        this.message = message\n        this.show = true\n        timer = setTimeout(() => {\n          this.show = false\n        }, 2000)\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  @import \"../common/scss/var\";\n\n  .create {\n    background: #fff;\n    padding-top: 44px;\n    .line {\n      margin: 10px 15px;\n      display: flex;\n      align-items: center;\n      #select-tab {\n        flex: 1;\n        margin: 0 10px;\n        padding-left: 30px;\n        border: 1px solid $color-theme;\n        height: 30px;\n        border-radius: 4px;\n      }\n      #issue {\n        padding: 5px 20px;\n        background: $color-theme;\n        color: #fff;\n        border-radius: 4px;\n      }\n    }\n    .title {\n      margin: 20px 15px;\n      border-top: $border;\n      border-bottom: $border;\n      input[type=text] {\n        display: block;\n        width: 100%;\n        padding: 10px 0;\n        font-weight: bold;\n        font-style: italic;\n      }\n    }\n    .content {\n      margin: 0 15px;\n      textarea {\n        width: 100%;\n        height: 400px;\n        background: #f0f0f0;\n        border-radius: 5px;\n        border: 1px solid $color-theme;\n        padding: 8px;\n        resize: none;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/create.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"create\"},[_c('v-header',{attrs:{\"head\":\"新建主题\"}}),_vm._v(\" \"),_c('div',{staticClass:\"line\"},[_c('span',[_vm._v(\"选择分类: \")]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.tab),expression:\"tab\"}],attrs:{\"id\":\"select-tab\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.tab=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"share\"}},[_vm._v(\"分享\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"ask\"}},[_vm._v(\"问答\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"job\"}},[_vm._v(\"招聘\")]),_vm._v(\" \"),_c('option',{attrs:{\"value\":\"dev\"}},[_vm._v(\"测试\")])]),_vm._v(\" \"),_c('button',{attrs:{\"id\":\"issue\"},on:{\"click\":_vm.sendIssue}},[_vm._v(\"发布\")])]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],attrs:{\"type\":\"text\",\"placeholder\":\"标题,字数10字以上\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],attrs:{\"placeholder\":\"支持Markdown语法,请注意标记代码\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})]),_vm._v(\" \"),_c('v-alert',{attrs:{\"show\":_vm.show,\"text\":_vm.message}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2959544a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/create.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2959544a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./create.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./create.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2959544a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./create.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/create.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}